"use strict";(self.webpackChunksen_chat=self.webpackChunksen_chat||[]).push([[335],{84980:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(65043),l=s(51318),i=s(42039),r=s(38489),c=s(21263),n=s(25108),x=s(99052),o=s(70579);const m=e=>{const[t,s]=(0,a.useState)(),[m,d]=(0,a.useState)([]),f="0x29c1b65fdac043877744270c32eb579c49374ac5";(0,a.useEffect)((()=>{if(t&&(0,n.a6)(t)){window.web3=new x.Ay$(t);const e=window.web3,s=async t=>{try{const s=await new e.eth.Contract(r,f).methods.tokenByIndex("".concat(t)).call(),a=await new e.eth.Contract(r,f).methods.tokenURI("".concat(s)).call();if(s.toString().startsWith("2"))return{tokenId:s,tokenURI:a}}catch(s){return console.error("Error fetching details for token at index ".concat(t,":"),s.message),null}},a=async(e,t)=>{const a=[],l=Array.from({length:t-e+1},((e,a)=>s(t-a)));return(await Promise.all(l)).filter((e=>null!==e)).forEach((e=>a.push(e))),a};(async()=>{const e=await new window.web3.eth.Contract(r,f).methods.totalSupply().call(),t=parseInt(e,10),s=await a(0,t-1);for(const a of s)if(void 0!==a&&void 0!==a.tokenId&&void 0!==a.tokenURI){if(a.tokenURI.startsWith("ipfs://"))try{const e=a.tokenURI.replace("ipfs://",""),t="https://cloudflare-ipfs.com/ipfs/".concat(e),s=await fetch(t);if(!s.ok)throw new Error("Failed to fetch from IPFS. Status: ".concat(s.status));const l=await s.json(),i=l.image.replace("ipfs://",""),r="https://cloudflare-ipfs.com/ipfs/".concat(i);let c="";if(l.userimage){const e=l.userimage.replace("ipfs://","");c="https://cloudflare-ipfs.com/ipfs/".concat(e)}const n=new Date(l.date),x=n.getHours(),o=n.getMinutes(),m=n.toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit"});d((t=>[...t,{data:r,titleofprops:l.username,anasabdin:l.description,education:"Feeds",userimage:c,time:"".concat(x,":").concat(o," ").concat(m),cid:e,repliescounter13:"",anasabdinone10:l.username}]))}catch(l){console.error("Error fetching from IPFS: ".concat(l.message))}}})()}}),[t]);return(0,o.jsxs)("div",{className:e.className,children:[(0,o.jsx)(c.pK.Custom,{children:e=>{let{chain:t}=e;t&&s(t.rpcUrl)}}),Array.isArray(m)?m.map(((e,t)=>{return(0,o.jsxs)("div",{className:"flex flex-col gap-[20px] items-center w-full shadow-xl",children:[(0,o.jsx)("div",{children:e.titleofthread}),(0,o.jsxs)(l.N_,{to:"/thread/".concat(encodeURIComponent(e.cid)),className:"flex flex-1 md:flex-col flex-row gap-[16px] items-start justify-start max-w-[1039px] px-5 py-[15px] w-full",children:[(0,o.jsx)(l.N_,{to:"/thread",children:(0,o.jsx)(i.E9,{src:null===e||void 0===e?void 0:e.userimage,alt:"Image Alt Text",className:"cursor-pointer h-[46px] w-[46px] rounded-[10px]"})}),(0,o.jsx)("div",{className:"flex md:flex-1 flex-col items-start justify-start w-[79%] md:w-full",children:(0,o.jsxs)("div",{className:"flex flex-col items-start justify-start w-[71%] md:w-full",children:[(0,o.jsx)("div",{className:"flex flex-col items-center justify-start",children:(0,o.jsx)(i.EY,{className:"text-[17px] text-black-900",size:"txtPromptSemiBold17",children:null===e||void 0===e?void 0:e.titleofprops})}),(0,o.jsx)("div",{className:"flex flex-row gap-[7px] items-center justify-between w-full",children:(0,o.jsx)(i.EY,{className:"text-gray-500_02 text-sm",size:"txtPromptMedium14",children:(s=null===e||void 0===e?void 0:e.anasabdin,s.length<=350?s:s.substring(0,350)+"...")})}),(0,o.jsx)(i.EY,{className:"text-gray-500_02 text-sm",size:"txtPromptMedium14",children:null===e||void 0===e?void 0:e.time})]})}),(0,o.jsx)("div",{className:"flex md:flex-1 flex-col items-start justify-start pr-[3px] py-[3px] w-[14%] md:w-full",children:(0,o.jsxs)("div",{className:"flex flex-row gap-4 items-end justify-start mb-1.5 w-[77%] md:w-full",children:[(0,o.jsx)(i.N1,{className:"bg-gray-500_02 py-3 h-12 w-px"}),(0,o.jsxs)("div",{className:"flex flex-col items-start justify-start mt-1.5",children:[(0,o.jsx)(i.EY,{className:"text-gray-500_02 text-sm",size:"txtPromptMedium14",children:null===e||void 0===e?void 0:e.repliescounter13}),(0,o.jsx)(i.EY,{className:"text-gray-500_02 text-sm",size:"txtPromptMedium14",children:null===e||void 0===e?void 0:e.anasabdinone10})]})]})})]}),(0,o.jsx)(i.N1,{className:"self-center h-px bg-teal-100 w-full"})]},t);var s})):(0,o.jsx)("div",{children:"No Feeds available"})]})}},26335:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});s(65043);var a=s(42039),l=s(84980),i=s(51318),r=s(19882),c=s(70579);const n=()=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"bg-gray-100 flex sm:justify-center md:flex-col md:items-center flex-row-reverse font-prompt mx-auto relative w-full overflow-hidden",children:(0,c.jsxs)("div",{className:"flex flex-col items-center justify-end sm:justify-center ml-auto mr-[60px] mt-[-16px] md:px-5 w-[69%] sm:w-[80%] sm:mx-auto z-[1]",children:[(0,c.jsx)("div",{className:"bg-gray-100 flex flex-col items-center justify-start pl-[19px] py-[19px] w-full",children:(0,c.jsx)("div",{className:"flex flex-col gap-[13px] items-start justify-start mb-0.5 mt-12 w-full",children:(0,c.jsxs)("div",{className:"flex flex-row md:gap-10 items-center justify-between w-full",children:[(0,c.jsx)(a.EY,{className:"sm:text-2xl md:text-[36px] text-[30px] text-black-900",size:"txtPromptBold40",children:"Feeds"}),(0,c.jsxs)("div",{className:"flex flex-row gap-5 sm:gap-2 items-center justify-between",children:[(0,c.jsx)(i.N_,{to:"/message",children:(0,c.jsx)(a.EY,{className:"text-teal-A400 text-[18px] sm:text-[15px]",size:"txtPromptBold20",children:"New post"})}),(0,c.jsx)(i.N_,{to:"/message",children:(0,c.jsx)(a.E9,{className:"h-[16px] w-[16px] sm:h-[14px] sm:w-[14px]",src:"images/img_edit.svg",alt:"edit"})})]})]})})}),(0,c.jsx)("div",{className:"flex flex-col items-center justify-start w-full",children:(0,c.jsx)(l.A,{className:"bg-white-A700_cc flex flex-col items-start justify-start max-w-[1039px] py-2.5 rounded-[10px] w-full"})}),(0,c.jsxs)("div",{className:"flex flex-row items-center justify-between w-[11%]",children:[(0,c.jsx)(a.$n,{className:"bg-black-900 cursor-pointer font-medium h-[31px] leading-[normal] py-1 md:px-3 sm:flex sm:items-center sm:justify-center rounded-[5px] text-[14.55px] text-center text-teal-A400 w-[31px] sm:w-[27px]",children:"1"}),(0,c.jsx)(a.E9,{className:"h-0.5",src:"images/img_frame141.svg",alt:"frame141"}),(0,c.jsx)(a.EY,{className:"text-[12.47px] text-teal-100",size:"txtPromptMedium1247",children:"30"}),(0,c.jsx)(a.$n,{className:"border border-solid border-teal-A400 flex h-[31px] sm:px-3 items-center justify-center p-2.5 rounded-[5px] w-[31px]",children:(0,c.jsx)("h1",{className:"text-teal-300",children:(0,c.jsx)(r.G_G,{})})})]})]})})})}}]);
//# sourceMappingURL=335.d98ac857.chunk.js.map