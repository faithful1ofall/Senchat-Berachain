"use strict";(self.webpackChunksen_chat=self.webpackChunksen_chat||[]).push([[888],{99888:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(65043),l=s(42039),i=s(51318),c=s(38489),n=s(21263),r=s(25108),o=s(99052),d=s(73510),x=s(70579);const m=e=>{const[t,s]=(0,a.useState)(!1),[m,f]=(0,a.useState)(),[u,p]=(0,a.useState)([]),h="0x29c1b65fdac043877744270c32eb579c49374ac5",w=(0,n.XK)();(0,a.useEffect)((()=>{if(w&&(0,r.a6)(w)){window.web3=new o.Ay$(w);const e=window.web3,t=async t=>{try{const s=await new e.eth.Contract(c,h).methods.tokenOfOwnerByIndex(m.toString(),"".concat(t)).call(),a=await new e.eth.Contract(c,h).methods.tokenURI("".concat(s)).call();if(s.toString().startsWith("2"))return{tokenId:s,tokenURI:a}}catch(s){return console.error("Error fetching details for token at index ".concat(t,":"),s.message),null}},s=async(e,s)=>{const a=[],l=Array.from({length:s-e+1},((e,a)=>t(s-a)));return(await Promise.all(l)).filter((e=>null!==e)).forEach((e=>a.push(e))),a};(async()=>{const t=await new e.eth.Contract(c,h).methods.totalSupply().call(),a=parseInt(t,10),l=await s(0,a-1);for(const e of l)if(void 0!==e&&void 0!==e.tokenId&&void 0!==e.tokenURI){if(e.tokenURI.startsWith("ipfs://"))try{const t=e.tokenURI.replace("ipfs://",""),s="https://cloudflare-ipfs.com/ipfs/".concat(t),a=await fetch(s);if(!a.ok)throw new Error("Failed to fetch from IPFS. Status: ".concat(a.status));const l=await a.json(),i=l.image.replace("ipfs://",""),c="https://cloudflare-ipfs.com/ipfs/".concat(i);let n="";if(l.userimage){const e=l.userimage.replace("ipfs://","");n="https://cloudflare-ipfs.com/ipfs/".concat(e)}const r=new Date(l.date),o=r.getHours(),d=r.getMinutes(),x=r.toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit"});p((s=>[...s,{data:c,titleofprops:l.username,anasabdin:l.description,education:"Feeds",userimage:n,time:"".concat(o,":").concat(d," ").concat(x),cid:t,tid:e.tokenId,repliescounter13:"",anasabdinone10:l.username}]))}catch(i){console.error("Error fetching from IPFS: ".concat(i.message))}}})()}}),[w,m]);return(0,x.jsxs)("div",{className:e.className,children:[(0,x.jsx)(n.pK.Custom,{children:e=>{let{account:t}=e;t&&f(t)}}),Array.isArray(u)?u.map(((e,a)=>{return(0,x.jsxs)("div",{className:"flex flex-col gap-[20px] items-center w-full shadow-xl",children:[(0,x.jsx)("div",{children:e.titleofthread}),(0,x.jsxs)("div",{className:"flex flex-1 md:flex-col flex-row gap-[16px] items-start justify-start max-w-[1039px] px-5 py-[15px] w-full",children:[(0,x.jsx)(l.E9,{src:null===e||void 0===e?void 0:e.userimage,alt:"Image Alt Text",className:"cursor-pointer h-[46px] w-[46px] rounded-[10px]"}),(0,x.jsx)("div",{className:"flex md:flex-1 flex-col items-start justify-start w-[79%] md:w-full",children:(0,x.jsxs)("div",{className:"flex flex-col items-start justify-start w-[71%] md:w-full",children:[(0,x.jsx)("div",{className:"flex flex-col items-center justify-start",children:(0,x.jsx)(l.EY,{className:"text-[17px] text-black-900",size:"txtPromptSemiBold17",children:null===e||void 0===e?void 0:e.titleofprops})}),(0,x.jsx)("div",{className:"flex flex-row gap-[7px] items-center justify-between w-full",children:(0,x.jsx)(i.N_,{to:"/thread/".concat(encodeURIComponent(e.cid)),children:(0,x.jsx)(l.EY,{className:"text-black-900 text-sm",size:"txtPromptMedium14",children:(n=null===e||void 0===e?void 0:e.anasabdin,n.length<=350?n:n.substring(0,350)+"...")})})}),(0,x.jsx)(l.EY,{className:"text-gray-500_02 text-sm",size:"txtPromptMedium14",children:null===e||void 0===e?void 0:e.time})]})}),(0,x.jsx)("div",{className:"flex md:flex-1 flex-col items-start justify-start pr-[3px] py-[3px] w-[14%] md:w-full",children:(0,x.jsxs)("div",{className:"flex flex-row gap-4 items-end justify-start mb-1.5 w-[77%] md:w-full",children:[(0,x.jsx)(l.N1,{className:"bg-gray-500_02 py-3 h-12 w-px"}),(0,x.jsxs)("div",{className:"flex flex-col items-start justify-start mt-1.5",children:[(0,x.jsx)(l.EY,{className:"text-gray-500_02 text-sm",size:"txtPromptMedium14",children:null===e||void 0===e?void 0:e.repliescounter13}),(0,x.jsx)(l.EY,{className:"text-gray-500_02 text-sm",size:"txtPromptMedium14",children:null===e||void 0===e?void 0:e.anasabdinone10}),(0,x.jsx)(l.$n,{onClick:()=>(async(e,t)=>{s(!0);try{const a=t.split("/").slice(-2,-1)[0],l=new d.i8({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDA5MjRlNmNENzNDOUI4YzQxOTMxQzkwOUU0MDY3MzYyYTA4OTQxNzAiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTcwODMxMzg1Njk0MSwibmFtZSI6ImF2YXhzZW4ifQ.EYI6Rs1e3DByu0L4bS5DrcWOPPsZlxdJ8kWM0pQYLDI"});if(w&&(0,r.a6)(w)){window.web3=new o.Ay$(w);const t=await new window.web3.eth.Contract(c,h).methods.burn(e).send({from:"".concat(m.toString())});console.log(t),t&&(l.delete(a),s(!1),window.location.reload())}}catch(a){s(!1),console.error("Error fetching details for token at index ".concat(e,":"),a.message)}})(null===e||void 0===e?void 0:e.tid,null===e||void 0===e?void 0:e.cid),className:"bg-red-600 cursor-pointer font-semibold leading-[normal] mb-1 min-w-[146px] md:ml-[0] ml-[54px] md:mt-0 mt-[35px] py-3 rounded-[15px] text-[16.34px] text-black-900 text-center tracking-[-0.49px]",children:t?(0,x.jsx)("div",{className:"flex items-center justify-center",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-gray-900"})}):"DELETE"})]})]})})]}),(0,x.jsx)(l.N1,{className:"self-center h-px bg-teal-100 w-full"})]},a);var n})):(0,x.jsx)("div",{children:"No Feeds available"})]})};s(65813);const f=()=>{const[e,t]=(0,a.useState)(),[s,i]=(0,a.useState)(),[d,f]=(0,a.useState)(0),u="0x29c1b65fdac043877744270c32eb579c49374ac5";return(0,a.useEffect)((()=>{(async()=>{if(s&&(0,r.a6)(s)){window.web3=new o.Ay$(s),console.log(s);const t=async t=>{try{const s=await new window.web3.eth.Contract(c,u).methods.tokenOfOwnerByIndex(e.toString(),"".concat(t)).call(),a=await new window.web3.eth.Contract(c,u).methods.tokenURI("".concat(s)).call();return s.toString().startsWith("2")?{tokenId:s,tokenURI:a}:null}catch(s){return console.error("Error fetching details for token at index ".concat(t,":"),s.message),null}},a=async(e,s)=>{const a=[],l=Array.from({length:s-e+1},((e,a)=>t(s-a)));return(await Promise.all(l)).filter((e=>null!==e)).forEach((e=>a.push(e))),a},l=await new window.web3.eth.Contract(c,u).methods.totalSupply().call(),i=parseInt(l,10),n=await a(0,i-1);f(n.length)}})()}),[d,u,e,s]),(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"bg-gray-100 pt-6 sm:pt-10 flex flex-col font-prompt items-center justify-end mx-auto w-full",children:(0,x.jsxs)("div",{className:"flex flex-col items-center justify-end w-full",children:[(0,x.jsx)(n.pK.Custom,{children:e=>{let{account:s,chain:a}=e;a&&(i(a.rpcUrl),t(s))}}),(0,x.jsx)("div",{className:"sm:h-[30rem] h-[] md:h-[2054px] sm:ml-[0] relative w-full",children:(0,x.jsx)("div",{className:"absolute bg-gray-100 flex flex-col inset-x-[0] items-center justify-start mx-auto pb-[17px] pl-[17px] top-[0] w-full",children:(0,x.jsxs)("div",{className:"flex flex-col items-start justify-start w-full",children:[(0,x.jsx)("div",{className:"flex flex-col items-start justify-start mt-[46px] p-1 w-full",children:(0,x.jsx)(l.EY,{className:"mb-[22px] mt-[17px] sm:text-4xl md:text-[38px] text-[40px] text-black-900",size:"txtPromptBold40",children:"Portfolio Overview"})}),(0,x.jsxs)("div",{className:"flex md:flex-col flex-row md:gap-8 items-end justify-start mt-[5px] w-[81%] md:w-full",children:[(0,x.jsxs)("div",{className:"flex flex-col gap-[7px] items-start justify-start",children:[(0,x.jsx)(l.EY,{className:"text-2xl md:text-[22px] text-blue_gray-900_01 sm:text-xl",size:"txtPromptSemiBold24Bluegray90001",children:"Wallet Balance (SenTokens)"}),(0,x.jsx)(l.EY,{className:"sm:text-[21.5px] md:text-[23.5px] text-[25.5px] text-blue_gray-400",size:"txtPromptSemiBold255Bluegray400",children:"Earn Points Through Activities"})]}),(0,x.jsxs)("div",{className:"flex flex-row gap-2 items-center justify-center mb-0.5 ml-0.5 md:ml-[0] md:mt-0 mt-12 w-[27%] md:w-full",children:[(0,x.jsx)(l.E9,{className:"h-[22px]",src:"images/img_send.svg",alt:"send"}),(0,x.jsx)(l.EY,{className:"sm:text-[21.5px] md:text-[23.5px] text-[25.5px] text-blue_gray-400",size:"txtPromptSemiBold255Bluegray400",children:d/100})]})]}),(0,x.jsx)(l.N1,{className:"bg-teal-100 h-[3px] mt-7 w-full"}),(0,x.jsx)(m,{className:"flex flex-col bg-white-A700 gap-[19.03px] items-start justify-start w-full"})]})})})]})})})}}}]);
//# sourceMappingURL=888.eaa9344c.chunk.js.map